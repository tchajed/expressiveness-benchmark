{"task": "strings_to_numbers", "language": "datalog", "plan": {}, "source": ".decl clean(Format:symbol, Inp:symbol, I:number, Outp:symbol) \nclean(Format, Inp, 0, \"\") :- numbers(Format, Inp).\nclean(Format, Inp, I+1, Outp) :-\n  clean(Format, Inp, I, Outp_rec),\n  I <= strlen(Inp),\n  Chr = substr(Inp, I, 1),\n  ((Format = \"comma_sep\", Sep = \",\");\n   (Format = \"under_sep\", Sep = \"_\")),\n  ((Chr  = Sep, Outp = Outp_rec);\n   (Chr != Sep, Outp = cat(Outp_rec, Chr))).\n\nstrings_to_numbers(N) :-\n  clean(Format, Inp, strlen(Inp), Outp),\n  N = to_number(Outp).", "author": "will", "implementation": ""}