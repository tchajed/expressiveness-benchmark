{"task": "strings_to_numbers", "language": "datalog", "plan": {}, "source": ".decl clean(format:symbol, inp:symbol, i:number, outp:symbol) \nclean(format, inp, 0, \"\") :- numbers(format, inp).\nclean(format, inp, i+1, outp) :-\n  clean(format, inp, i, outp_rec),\n  i <= strlen(inp),\n  chr = substr(inp, i, 1),\n  ((format = \"comma_sep\", sep = \",\");\n   (format = \"under_sep\", sep = \"_\")),\n  ((chr  = sep, outp = outp_rec);\n   (chr != sep, outp = cat(outp_rec, chr))).\n\nstrings_to_numbers(n) :-\n  clean(format, inp, strlen(inp), outp),\n  n = to_number(outp).", "author": "will", "implementation": ""}