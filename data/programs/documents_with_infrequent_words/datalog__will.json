{"task": "documents_with_infrequent_words", "language": "datalog", "plan": {}, "source": "\n.decl substrs(text:symbol, idx:number, len:number)\nsubstrs(Text, 0, 1) :- documents(_, Text), strlen(Text) > 0.\nsubstrs(Text, 0, Len+1) :- substrs(Text, 0, Len), Len + 1 <= strlen(Text).\nsubstrs(Text, Idx+1, Len) :- substrs(Text, Idx, Len), Idx + Len + 1 <= strlen(Text).\n\n.decl token(docid:number, text:symbol, idx:number, word:symbol)\ntoken(Docid, Text, Idx, Word) :-\n  documents(Docid, Text),\n  substrs(Text, Idx, Len),\n  Prev = Idx - 1, Next = Idx + Len,\n  (Prev < 0; \" \" = substr(Text, Prev, 1)),\n  (Next = strlen(Text); \" \" = substr(Text, Next, 1)),\n  Word = substr(Text, Idx, Len),\n  !contains(\" \", Word).\n\ndocuments_with_infrequent_words(Id) :-\n  documents(Id, _),\n  token(Id, _, _, Word),\n  1 = count : token(_, _, _, Word).\n", "author": "will", "implementation": ""}