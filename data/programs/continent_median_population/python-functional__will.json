{"task": "continent_median_population", "language": "python-functional", "plan": {"iter": [{"line": 1, "start": 2, "end": 55}, {"line": 7, "start": 4, "end": 31}, {"line": 3, "start": 4, "end": 13}, {"line": 20, "start": 4, "end": 46}, {"line": 18, "start": 2, "end": 10}, {"line": 21, "start": 2, "end": 3}], "group": [{"line": 4, "start": 22, "end": 41}, {"line": 5, "start": 6, "end": 36}, {"line": 6, "start": 4, "end": 5}, {"line": 3, "start": 15, "end": 16}], "agg": [{"line": 4, "start": 6, "end": 21}, {"line": 2, "start": 2, "end": 17}, {"line": 8, "start": 2, "end": 3}, {"line": 10, "start": 2, "end": 27}, {"line": 11, "start": 4, "end": 23}, {"line": 12, "start": 4, "end": 17}, {"line": 13, "start": 4, "end": 18}, {"line": 14, "start": 6, "end": 31}, {"line": 15, "start": 4, "end": 9}, {"line": 16, "start": 6, "end": 50}, {"line": 19, "start": 29, "end": 63}], "name": [{"line": 19, "start": 5, "end": 27}]}, "source": "def continent_median_population(countries):\n  continents = set([c['continent'] for c in countries])\n  populations = {\n    continent: [\n      c['population'] for c in countries \n      if c['continent'] == continent\n    ]\n    for continent in continents\n  }\n  \n  def compute_median(pops):\n    pops = sorted(pops)\n    N = len(pops)\n    if N % 2 == 1:\n      return pops[(N - 1) // 2]\n    else:\n      return (pops[N // 2 - 1] + pops[N // 2]) / 2  \n   \n  return [\n    {\"continent\": continent, \"population\": compute_median(pops)}\n    for continent, pops in populations.items()\n  ]", "author": "will", "implementation": ""}