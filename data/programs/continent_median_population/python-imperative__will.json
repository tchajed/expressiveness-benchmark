{"task": "continent_median_population", "language": "python-imperative", "plan": {"iter": [{"line": 3, "start": 16, "end": 36}, {"line": 6, "start": 6, "end": 15}, {"line": 6, "start": 22, "end": 45}, {"line": 13, "start": 4, "end": 19}, {"line": 16, "start": 4, "end": 6}, {"line": 5, "start": 2, "end": 13}, {"line": 6, "start": 2, "end": 6}, {"line": 18, "start": 2, "end": 15}], "group": [{"line": 2, "start": 2, "end": 27}, {"line": 3, "start": 45, "end": 52}], "agg": [{"line": 1, "start": 2, "end": 33}, {"line": 3, "start": 4, "end": 16}, {"line": 3, "start": 36, "end": 45}, {"line": 3, "start": 52, "end": 67}, {"line": 6, "start": 17, "end": 45}, {"line": 7, "start": 4, "end": 15}, {"line": 8, "start": 4, "end": 17}, {"line": 9, "start": 4, "end": 18}, {"line": 10, "start": 6, "end": 33}, {"line": 11, "start": 4, "end": 9}, {"line": 12, "start": 6, "end": 52}, {"line": 15, "start": 6, "end": 26}, {"line": 6, "start": 2, "end": 6}], "name": [{"line": 14, "start": 6, "end": 29}]}, "source": "def continent_median_population(countries):\n  populations = defaultdict(list)\n  for country in countries:\n    populations[country['continent']].append(country['population'])\n  \n  output = []  \n  for continent, pops in populations.items():\n    pops.sort()\n    N = len(pops)\n    if N % 2 == 1:\n      median = pops[(N - 1) // 2]\n    else:\n      median = (pops[N // 2 - 1] + pops[N // 2]) / 2\n    output.append({\n      \"continent\": continent,\n      \"population\": median\n    })\n    \n  return output", "author": "will", "implementation": ""}