<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/expressiveness-benchmark/_next/static/css/0b9ba0c2982acd8038f7.css" as="style"/><link rel="stylesheet" href="/expressiveness-benchmark/_next/static/css/0b9ba0c2982acd8038f7.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/main-f76717e2d376ecc40880.js" as="script"/><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/webpack-95c2b224bccf352ee870.js" as="script"/><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/framework.be9133c4aa54b58ca1d2.js" as="script"/><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/commons.2ac40408ef03d6c65327.js" as="script"/><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/pages/_app-6c84d9376783aee2d5c0.js" as="script"/><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/48fe5443.88e65f2aa5b41d169d7d.js" as="script"/><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/29107295.0ba1e3749ecd6faab06a.js" as="script"/><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/f7f3ae4b7ca4f7fc373506a61db832ad86bd3f74.d5e83ddfb8ec0326feec.js" as="script"/><link rel="preload" href="/expressiveness-benchmark/_next/static/chunks/pages/lang/%5Bid%5D-69454a6dd0b4a4f0e0f7.js" as="script"/></head><body><div id="__next"><div id="container"><div class="title"><h1><a href="/expressiveness-benchmark">Expressiveness Benchmark</a></h1><nav><a href="/expressiveness-benchmark">Task matrix</a><a href="/expressiveness-benchmark/analysis">Dataset analysis</a></nav></div><div class="pivot-view"><h2>Language<!-- -->: <!-- -->Q - kdb+</h2><div class="column-container"><div class="main-content"><div class="main-scroll"><div class="program-row"><div class="program-container"><h3><a href="/expressiveness-benchmark/task/continent_by_population">Continent with the highest average population</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:92"></div></div><pre style="width:100%;height:92;line-height:1em">averages: 
  select avg(population) by continent from countries;
continent_by_population: 
  (first select[&gt;population] continent from averages) `continent</pre></div></div><div class="program-container"><h3><a href="/expressiveness-benchmark/task/changing_mean">First element that doesn&#x27;t change mean</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:115"></div></div><pre style="width:100%;height:115;line-height:1em">diffs: 
  {abs avg vals[`value] - avg (vals[`value] where vals[`id] &lt;&gt; x)} 
  each vals[`id];
  
changing_mean: first vals[`id] where diffs &lt; 0.1</pre></div></div></div><div class="program-row"><div class="program-container"><h3><a href="/expressiveness-benchmark/task/continent_median_population">Median population for each continent</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:46"></div></div><pre style="width:100%;height:46;line-height:1em">continent_median_population:
  () xkey select med[population] by continent from countries</pre></div></div><div class="program-container"><h3><a href="/expressiveness-benchmark/task/youngest_over_35">Youngest person over 35</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:69"></div></div><pre style="width:100%;height:69;line-height:1em">old_enough: select from people where age &gt; 35
youngest_over_35: 
  (first select name from old_enough where age = min(age)) `name</pre></div></div></div><div class="program-row"><div class="program-container"><h3><a href="/expressiveness-benchmark/task/tom_hanks">Directors of movies Tom Hanks starred in</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:69"></div></div><pre style="width:100%;height:69;line-height:1em">tom_hanks:
  (select director from actors ij (`movie xkey directors) 
   where actor ~\: &quot;Tom Hanks&quot;) `director</pre></div></div><div class="program-container"><h3><a href="/expressiveness-benchmark/task/row_per_child">Row per family to row per child</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:138"></div></div><pre style="width:100%;height:138;line-height:1em">child_rows: {[child] 
  rows: ?[families; (); 0b; `family`dob`height ! 
    (`family; `$(&quot;dob_child&quot;,child); `$(&quot;height_child&quot;, child))];
  update child: (count families)#enlist (&quot;child&quot;, child) from rows}
      
row_per_child: (child_rows each (&quot;1&quot;; &quot;2&quot;; &quot;3&quot;)) ,/;</pre></div></div></div><div class="program-row"><div class="program-container"><h3><a href="/expressiveness-benchmark/task/strings_to_numbers">Convert strings with different formats to numbers</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:138"></div></div><pre style="width:100%;height:138;line-height:1em">convert: {[val; format] 
  sep: ((&quot;comma_sep&quot;; &quot;under_sep&quot;) ! (&quot;,&quot;; &quot;_&quot;)) format;
  &quot;J&quot; $ ssr[val; sep; &quot;&quot;]}
  
strings_to_numbers:
  convert&#x27;[numbers[`value]; numbers[`format]]</pre></div></div><div class="program-container"><h3><a href="/expressiveness-benchmark/task/documents_with_infrequent_words">Documents with infrequent words</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:115"></div></div><pre style="width:100%;height:115;line-height:1em">words: (&quot; &quot; vs) each documents[`text];
freq: count each group raze words;
uniq: where[freq=1];
documents_with_infrequent_words:
  (select id from documents where &#x27;[any; in\: [;uniq]] each words) `id</pre></div></div></div><div class="program-row"><div class="program-container"><h3><a href="/expressiveness-benchmark/task/process_tweets">Filter and clean tweets</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:69"></div></div><pre style="width:100%;height:69;line-height:1em">process_tweets:
  select lower[body], ts from data 
  where (is_retweet ~\: &quot;false&quot;) and (language ~\: &quot;en&quot;)</pre></div></div><div class="program-container"><h3><a href="/expressiveness-benchmark/task/purchased_all_food">People that purchased all possible items</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:92"></div></div><pre style="width:100%;height:92;line-height:1em">buyers: `buyer xgroup orders;
total: count food;
purchased_all_food:
  (where {(count distinct x[`food]) = total} each buyers) `buyer</pre></div></div></div><div class="program-row"><div class="program-container"><h3><a href="/expressiveness-benchmark/task/unique_beer_drinkers">People who like a unique set of beer</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:115"></div></div><pre style="width:100%;height:115;line-height:1em">likes_per_person: `name xgroup likes;
counts: count each group likes_per_person;
unique_beer_drinkers: 
  (select name from likes_per_person where beer in\: where[counts=1])
  `name</pre></div></div><div class="program-container"><h3><a href="/expressiveness-benchmark/task/rolling_average">Rolling average</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:92"></div></div><pre style="width:100%;height:92;line-height:1em">get_avg: 
  {[t] (select avg(x) from data where time within (t - 6; t)) `x};
rolling_average: 
  select end_time: time, average: get_avg&#x27;[time] from data</pre></div></div></div><div class="program-row"><div class="program-container"><h3><a href="/expressiveness-benchmark/task/average_window">Windowed average</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:46"></div></div><pre style="width:100%;height:46;line-height:1em">average_window:
  (value select[&lt;time] avg x by 7 xbar time from data) `x</pre></div></div><div class="program-container"><h3><a href="/expressiveness-benchmark/task/reachable">Reflexive-transitive closure</a></h3><div class="code-viewer"><div style="display:none"><div id="ace-editor" style="width:100%;height:184"></div></div><pre style="width:100%;height:184;line-height:1em">graph: (first&#x27;) each graph;
nodes: asc distinct graph[`source], graph[`target];
adj_list: `source xgroup graph;
adj_matrix: 
  {in[;x] each nodes} each nodes ,&#x27; (adj_list each nodes) `target;
iterated_matrix: last ({x | any each (x *\: x)} \) adj_matrix;
query_idx: nodes ? (first first query[`source]);
reachable: nodes where iterated_matrix[query_idx]</pre></div></div></div></div></div><div class="sidebar"><div class="sidebar-sticky"><div class="minimap"><button class="toggle">Toggle All</button><div><input type="checkbox" checked=""/>Continent with the highest average population</div><div><input type="checkbox" checked=""/>First element that doesn&#x27;t change mean</div><div><input type="checkbox" checked=""/>Median population for each continent</div><div><input type="checkbox" checked=""/>Youngest person over 35</div><div><input type="checkbox" checked=""/>Directors of movies Tom Hanks starred in</div><div><input type="checkbox" checked=""/>Row per family to row per child</div><div><input type="checkbox" checked=""/>Convert strings with different formats to numbers</div><div><input type="checkbox" checked=""/>Documents with infrequent words</div><div><input type="checkbox" checked=""/>Filter and clean tweets</div><div><input type="checkbox" checked=""/>People that purchased all possible items</div><div><input type="checkbox" checked=""/>People who like a unique set of beer</div><div><input type="checkbox" checked=""/>Rolling average</div><div><input type="checkbox" checked=""/>Windowed average</div><div><input type="checkbox" checked=""/>Reflexive-transitive closure</div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"lang":{"id":"q","name":"Q - kdb+"}},"__N_SSG":true},"page":"/lang/[id]","query":{"id":"q"},"buildId":"DNq9ETBO62hyrwdY1geRG","assetPrefix":"/expressiveness-benchmark","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/expressiveness-benchmark/_next/static/chunks/polyfills-d2769c16f665abc9d1ae.js"></script><script src="/expressiveness-benchmark/_next/static/chunks/main-f76717e2d376ecc40880.js" async=""></script><script src="/expressiveness-benchmark/_next/static/chunks/webpack-95c2b224bccf352ee870.js" async=""></script><script src="/expressiveness-benchmark/_next/static/chunks/framework.be9133c4aa54b58ca1d2.js" async=""></script><script src="/expressiveness-benchmark/_next/static/chunks/commons.2ac40408ef03d6c65327.js" async=""></script><script src="/expressiveness-benchmark/_next/static/chunks/pages/_app-6c84d9376783aee2d5c0.js" async=""></script><script src="/expressiveness-benchmark/_next/static/chunks/48fe5443.88e65f2aa5b41d169d7d.js" async=""></script><script src="/expressiveness-benchmark/_next/static/chunks/29107295.0ba1e3749ecd6faab06a.js" async=""></script><script src="/expressiveness-benchmark/_next/static/chunks/f7f3ae4b7ca4f7fc373506a61db832ad86bd3f74.d5e83ddfb8ec0326feec.js" async=""></script><script src="/expressiveness-benchmark/_next/static/chunks/pages/lang/%5Bid%5D-69454a6dd0b4a4f0e0f7.js" async=""></script><script src="/expressiveness-benchmark/_next/static/DNq9ETBO62hyrwdY1geRG/_buildManifest.js" async=""></script><script src="/expressiveness-benchmark/_next/static/DNq9ETBO62hyrwdY1geRG/_ssgManifest.js" async=""></script></body></html>